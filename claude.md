# Project: DeepResearch - é€šä¹‰æ·±åº¦ç ”ç©¶æ™ºèƒ½ä»£ç†ç³»ç»Ÿ

## æ¦‚è¿°
DeepResearch æ˜¯ç”±é˜¿é‡Œå·´å·´é€šä¹‰å®éªŒå®¤å¼€å‘çš„æ™ºèƒ½ä»£ç†å¤§è¯­è¨€æ¨¡å‹ï¼Œæ‹¥æœ‰305äº¿æ€»å‚æ•°ï¼Œæ¯ä¸ªtokenä»…æ¿€æ´»33äº¿å‚æ•°ã€‚è¯¥ç³»ç»Ÿä¸“é—¨è®¾è®¡ç”¨äº**é•¿æœŸæ·±åº¦ä¿¡æ¯æœç´¢**ä»»åŠ¡ï¼Œåœ¨å¤šä¸ªæ™ºèƒ½æœç´¢åŸºå‡†æµ‹è¯•ä¸­å±•ç°å‡ºæœ€å…ˆè¿›çš„æ€§èƒ½ã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ“Š é¡¹ç›®æ¶æ„
- **æ¨¡å‹è§„æ¨¡**: 30B-A3B (305äº¿æ€»å‚æ•°ï¼Œ33äº¿æ¿€æ´»å‚æ•°)
- **ä¸Šä¸‹æ–‡é•¿åº¦**: 128K tokens
- **æ¨ç†æ¨¡å¼**: ReAct æ¨¡å¼å’Œ IterResearch "Heavy" æ¨¡å¼
- **è®­ç»ƒæ–¹æ³•**: æŒç»­é¢„è®­ç»ƒ + ç›‘ç£å¾®è°ƒ + å¼ºåŒ–å­¦ä¹ 

### ğŸ› ï¸ æŠ€æœ¯æ ˆ
- **ä¸»è¦è¯­è¨€**: Python 3.10.0
- **æ·±åº¦å­¦ä¹ æ¡†æ¶**: PyTorch 2.7.1
- **AI/MLåº“**: Transformers, vLLM, HuggingFace Hub
- **äº‘æœåŠ¡**: é˜¿é‡Œäº‘æœåŠ¡é›†æˆ (DashScope, ModelScope)
- **å·¥å…·é›†æˆ**: æœç´¢ã€æ–‡ä»¶è§£æã€ä»£ç æ‰§è¡Œã€ç½‘é¡µè®¿é—®

### ğŸ”§ æ ¸å¿ƒä¾èµ–
```bash
# æ·±åº¦å­¦ä¹ 
torch==2.7.1, transformers==4.56.1, vllm==0.10.1

# AIæœåŠ¡
openai==1.99.5, litellm==1.77.1, dashscope==1.24.4

# Webå’Œæ•°æ®
aiohttp==3.12.15, beautifulsoup4 (via lxml), pandas==2.3.2

# å·¥å…·åº“
qwen-agent==0.0.26, ray==2.49.1, fastapi==0.116.1
```

## ç›®å½•ç»“æ„
```
DeepResearch/
â”œâ”€â”€ ğŸ“ inference/              # æ¨ç†ç³»ç»Ÿå’Œä»£ç†å®ç° â†’ ./inference/claude.md
â”‚   â”œâ”€â”€ react_agent.py        # ReAct ä»£ç†æ ¸å¿ƒå®ç°
â”‚   â”œâ”€â”€ run_multi_react.py    # å¤šä»£ç†è¿è¡Œç³»ç»Ÿ
â”‚   â”œâ”€â”€ ğŸ“ file_tools/        # æ–‡ä»¶å¤„ç†å·¥å…·é›†
â”‚   â”œâ”€â”€ ğŸ“ eval_data/         # è¯„ä¼°æ•°æ®å­˜æ”¾
â”‚   â””â”€â”€ tool_*.py             # å„ç§å·¥å…·å®ç°
â”œâ”€â”€ ğŸ“ evaluation/            # è¯„ä¼°è„šæœ¬å’ŒåŸºå‡†æµ‹è¯• â†’ ./evaluation/claude.md
â”‚   â”œâ”€â”€ evaluate_*.py         # å„ç±»æ•°æ®é›†è¯„ä¼°
â”‚   â””â”€â”€ prompt.py             # è¯„ä¼°æç¤ºè¯
â”œâ”€â”€ ğŸ“ WebAgent/              # Webä»£ç†ç›¸å…³é¡¹ç›® â†’ ./WebAgent/claude.md
â”‚   â”œâ”€â”€ WebDancer/            # Webä¿¡æ¯æœç´¢ä»£ç†
â”‚   â”œâ”€â”€ WebSailor/            # Webå¯¼èˆªæ¨ç†ä»£ç†
â”‚   â”œâ”€â”€ WebWalker/            # Webéå†åŸºå‡†ä»£ç†
â”‚   â””â”€â”€ WebShaper/            # Webä¿¡æ¯ç»“æ„åŒ–ä»£ç†
â”œâ”€â”€ ğŸ“ Agent/                 # ä»£ç†ç›¸å…³ç»„ä»¶ â†’ ./Agent/claude.md
â”œâ”€â”€ ğŸ“ assets/                # é¡¹ç›®èµ„æºæ–‡ä»¶
â”œâ”€â”€ requirements.txt          # ä¸»ä¾èµ–æ–‡ä»¶
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## å…³é”®å…¥å£ç‚¹

### ğŸ”¥ æ ¸å¿ƒæ¨ç†ç³»ç»Ÿ
- **ä¸»æ¨ç†å…¥å£**: `inference/react_agent.py:1` - ReActä»£ç†å®ç°
- **å¤šä»£ç†ç³»ç»Ÿ**: `inference/run_multi_react.py:1` - å¹¶è¡Œä»£ç†æ‰§è¡Œ
- **æ¨¡å‹æœåŠ¡**: é€šè¿‡vLLMå’ŒTransformersé›†æˆ
- **å·¥å…·è°ƒç”¨**: å„ç§tool_*.pyæ–‡ä»¶å®ç°å…·ä½“åŠŸèƒ½

### ğŸ“Š è¯„ä¼°ç³»ç»Ÿ
- **HLEè¯„ä¼°**: `evaluation/evaluate_hle_official.py`
- **æ·±åº¦æœç´¢è¯„ä¼°**: `evaluation/evaluate_deepsearch_official.py`
- **æç¤ºè¯ç®¡ç†**: `evaluation/prompt.py`

### ğŸŒ Webä»£ç†å®¶æ—
- **WebDancer**: è‡ªä¸»ä¿¡æ¯æœç´¢ä»£ç†
- **WebSailor**: è¶…äººç±»æ¨ç†å¯¼èˆªä»£ç†
- **WebWalker**: Webéå†åŸºå‡†æµ‹è¯•ä»£ç†
- **WebShaper**: ä¿¡æ¯ç»“æ„åŒ–ä»£ç†

## å¼€å‘å·¥ä½œæµ

### ğŸš€ å¿«é€Ÿå¼€å§‹
1. **ç¯å¢ƒè®¾ç½®**: åˆ›å»ºcondaç¯å¢ƒï¼ŒPython 3.10.0
2. **ä¾èµ–å®‰è£…**: `pip install -r requirements.txt`
3. **æ•°æ®å‡†å¤‡**: åœ¨`eval_data/`ä¸­å‡†å¤‡JSONLæ ¼å¼QAæ•°æ®
4. **é…ç½®è„šæœ¬**: ä¿®æ”¹`run_react_infer.sh`ä¸­çš„æ¨¡å‹è·¯å¾„å’ŒAPIå¯†é’¥
5. **è¿è¡Œæ¨ç†**: `bash run_react_infer.sh`

### ğŸ§ª æµ‹è¯•å’Œè¯„ä¼°
- ä½¿ç”¨evaluationç›®å½•ä¸­çš„è„šæœ¬è¿›è¡ŒåŸºå‡†æµ‹è¯•
- æ”¯æŒå¤šç§æ•°æ®é›†çš„è‡ªåŠ¨è¯„ä¼°
- æä¾›æ€§èƒ½æŒ‡æ ‡å’Œåˆ†ææŠ¥å‘Š

### ğŸ”§ ä»£ç†å¼€å‘
- åŸºäºReActæ¨¡å¼æ„å»ºæ™ºèƒ½ä»£ç†
- æ”¯æŒå·¥å…·è°ƒç”¨å’Œå¤æ‚ä»»åŠ¡åˆ†è§£
- é›†æˆæœç´¢ã€è®¡ç®—ã€æ–‡ä»¶å¤„ç†ç­‰å¤šç§èƒ½åŠ›

## å¯¼èˆªç´¢å¼•

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½åŒºåŸŸ
- **ä»£ç†ç³»ç»Ÿ**: `inference/` - æ™ºèƒ½ä»£ç†æ ¸å¿ƒå®ç° â†’ [è¯¦ç»†æ–‡æ¡£](./inference/claude.md)
- **å·¥å…·é›†æˆ**: `inference/tool_*.py` - å„ç§å·¥å…·èƒ½åŠ› â†’ [å·¥å…·ç³»ç»Ÿ](./inference/claude.md#ï¸-toolsystem---å·¥å…·é›†æˆç³»ç»Ÿ)
- **Webä»£ç†**: `WebAgent/` - Webç›¸å…³ä»£ç†å®ç° â†’ [WebAgentå®¶æ—](./WebAgent/claude.md)
- **è¯„ä¼°ä½“ç³»**: `evaluation/` - æ€§èƒ½è¯„ä¼°å’ŒåŸºå‡†æµ‹è¯• â†’ [è¯„ä¼°ç³»ç»Ÿ](./evaluation/claude.md)
- **ä»£ç†è®­ç»ƒ**: `Agent/` - æ™ºèƒ½ä»£ç†è®­ç»ƒç»„ä»¶ â†’ [ä»£ç†ç»„ä»¶](./Agent/claude.md)

### ğŸ“ˆ å…³é”®æ¨¡å¼
- **ReActæ¨ç†**: è§‚å¯Ÿâ†’æ€è€ƒâ†’è¡ŒåŠ¨çš„å¾ªç¯æ¨¡å¼ â†’ [æ¨ç†å®ç°](./inference/claude.md#-multiturnreactagent---å¤šè½®å¯¹è¯ä»£ç†)
- **å·¥å…·è°ƒç”¨**: é€šè¿‡function callingå®ç°å¤–éƒ¨å·¥å…·é›†æˆ â†’ [å·¥å…·è°ƒç”¨æœºåˆ¶](./inference/claude.md#-å·¥å…·è°ƒç”¨æœºåˆ¶)
- **å¤šä»£ç†åä½œ**: å¹¶è¡Œæ‰§è¡Œå¤šä¸ªä»£ç†ä»»åŠ¡ â†’ [æ‰¹é‡æ‰§è¡Œ](./inference/claude.md#-batchexecutionsystem---æ‰¹é‡æ‰§è¡Œç³»ç»Ÿ)
- **æŒç»­å­¦ä¹ **: åŸºäºåˆæˆæ•°æ®çš„é¢„è®­ç»ƒå’Œå¾®è°ƒ â†’ [AgentFounder](./Agent/claude.md#agentfounder---æŒç»­é¢„è®­ç»ƒä»£ç†)

### ğŸ” å¸¸è§ä»»åŠ¡å®šä½
- **æ¨¡å‹æ¨ç†**: æŸ¥çœ‹ `inference/react_agent.py` â†’ [è¯¦ç»†æ–‡æ¡£](./inference/claude.md#ï¸-multiturnreactagent---å¤šè½®å¯¹è¯ä»£ç†)
- **æœç´¢åŠŸèƒ½**: æŸ¥çœ‹ `inference/tool_search.py` â†’ [æœç´¢å·¥å…·](./inference/claude.md#æœç´¢å·¥å…·-tool_searchpy)
- **æ–‡ä»¶å¤„ç†**: æŸ¥çœ‹ `inference/file_tools/` â†’ [æ–‡ä»¶å¤„ç†](./inference/claude.md#-filetools---æ–‡ä»¶å¤„ç†å­æ¨¡å—)
- **è¯„ä¼°æµ‹è¯•**: æŸ¥çœ‹ `evaluation/` ç›®å½• â†’ [è¯„ä¼°æŒ‡å—](./evaluation/claude.md#ä½¿ç”¨æ–¹æ³•)
- **Webä»£ç†**: æŸ¥çœ‹ `WebAgent/` å„å­é¡¹ç›® â†’ [WebAgenté¡¹ç›®](./WebAgent/claude.md#-webagentå®¶æ—æ¦‚è§ˆ)

### ğŸ”— äº¤å‰å¼•ç”¨åœ°å›¾

#### æ¶æ„å…³ç³»å›¾
```
DeepResearch (ä¸»é¡¹ç›®)
â”œâ”€â”€ ğŸ“Š Agent/ (è®­ç»ƒç»„ä»¶)
â”‚   â”œâ”€â”€ AgentFounder â†’ æŒç»­é¢„è®­ç»ƒæ•°æ® â†’ inference/
â”‚   â””â”€â”€ AgentScaler â†’ ç¯å¢ƒæ‰©å±•èƒ½åŠ› â†’ WebAgent/
â”œâ”€â”€ ğŸš€ inference/ (æ¨ç†ç³»ç»Ÿ)
â”‚   â”œâ”€â”€ react_agent.py â† æ ¸å¿ƒReActä»£ç†
â”‚   â”œâ”€â”€ tool_*.py â† å·¥å…·å®ç°
â”‚   â””â”€â”€ file_tools/ â† æ–‡ä»¶å¤„ç†
â”œâ”€â”€ ğŸŒ WebAgent/ (Webä»£ç†å®¶æ—)
â”‚   â”œâ”€â”€ WebDancer â†’ ä¿¡æ¯æœç´¢
â”‚   â”œâ”€â”€ WebSailor â†’ å¯¼èˆªæ¨ç†
â”‚   â”œâ”€â”€ WebWalker â†’ éå†åŸºå‡†
â”‚   â””â”€â”€ [å…¶ä»–6ä¸ªä¸“ä¸šä»£ç†]
â””â”€â”€ ğŸ“ˆ evaluation/ (è¯„ä¼°ä½“ç³»)
    â”œâ”€â”€ åŸºå‡†æµ‹è¯• â† æµ‹è¯•æ‰€æœ‰ç»„ä»¶
    â””â”€â”€ æ€§èƒ½åˆ†æ â† ä¼˜åŒ–åé¦ˆ
```

#### æŠ€æœ¯ä¾èµ–å…³ç³»
- **åŸºç¡€æ¶æ„**: Qwen Agentæ¡†æ¶ â†’ æ‰€æœ‰ä»£ç†é¡¹ç›®
- **å·¥å…·ç”Ÿæ€**: æœç´¢/è®¿é—®/å¤„ç†å·¥å…· â†’ è·¨é¡¹ç›®å…±äº«
- **è¯„ä¼°æ ‡å‡†**: GAIA/WebWalkerQA/BrowserComp â†’ ç»Ÿä¸€è¯„ä¼°
- **æ¨¡å‹è®­ç»ƒ**: AgentFounder + AgentScaler â†’ æ¨¡å‹èƒ½åŠ›æå‡

#### æ•°æ®æµå‘
1. **è®­ç»ƒæ•°æ®**: Agent/ â†’ ç”Ÿæˆè®­ç»ƒæ•°æ® â†’ æ¨¡å‹è®­ç»ƒ
2. **æ¨ç†æ‰§è¡Œ**: inference/ â†’ åŠ è½½è®­ç»ƒæ¨¡å‹ â†’ æ‰§è¡Œä»»åŠ¡
3. **Webäº¤äº’**: WebAgent/ â†’ ä½¿ç”¨æ¨ç†ç³»ç»Ÿ â†’ Webä»»åŠ¡æ‰§è¡Œ
4. **æ€§èƒ½è¯„ä¼°**: evaluation/ â†’ è¯„ä¼°æ‰€æœ‰ç»„ä»¶ â†’ åé¦ˆä¼˜åŒ–

### ğŸ¯ é—®é¢˜è§£å†³è·¯å¾„

#### éœ€è¦å®ç°æ–°çš„ä»£ç†åŠŸèƒ½ï¼Ÿ
1. **åŸºç¡€èƒ½åŠ›**: æŸ¥çœ‹ `inference/claude.md` äº†è§£æ ¸å¿ƒæ¶æ„
2. **Webç‰¹å®šåŠŸèƒ½**: å‚è€ƒ `WebAgent/claude.md` ä¸­çš„ç°æœ‰å®ç°
3. **è®­ç»ƒæ•°æ®**: åˆ©ç”¨ `Agent/claude.md` ä¸­çš„è®­ç»ƒæ–¹æ³•
4. **è¯„ä¼°éªŒè¯**: ä½¿ç”¨ `evaluation/claude.md` è¿›è¡Œæµ‹è¯•

#### éœ€è¦ä¼˜åŒ–ç°æœ‰åŠŸèƒ½ï¼Ÿ
1. **æ€§èƒ½é—®é¢˜**: æŸ¥çœ‹ `evaluation/claude.md` çš„æ€§èƒ½æŒ‡æ ‡
2. **æ¶æ„æ”¹è¿›**: å‚è€ƒ `inference/claude.md` çš„æ¶æ„è®¾è®¡
3. **åŠŸèƒ½æ‰©å±•**: åŸºäº `WebAgent/claude.md` çš„æˆåŠŸæ¡ˆä¾‹
4. **è®­ç»ƒæå‡**: åˆ©ç”¨ `Agent/claude.md` çš„è®­ç»ƒæŠ€æœ¯

#### éœ€è¦æ·»åŠ æ–°å·¥å…·ï¼Ÿ
1. **å·¥å…·æ¥å£**: å‚è€ƒ `inference/claude.md` çš„å·¥å…·ç³»ç»Ÿ
2. **å®ç°ç¤ºä¾‹**: æŸ¥çœ‹ `WebAgent/claude.md` çš„å·¥å…·å®ç°
3. **é›†æˆæµ‹è¯•**: ä½¿ç”¨ `evaluation/claude.md` è¿›è¡ŒéªŒè¯
4. **æ€§èƒ½ä¼˜åŒ–**: å‚è€ƒ `Agent/claude.md` çš„ä¼˜åŒ–æ–¹æ³•

### ğŸš€ å¿«é€Ÿå¼€å§‹æŒ‡å—

#### æ–°å¼€å‘è€…å…¥é—¨è·¯å¾„
1. **é¡¹ç›®æ¦‚è§ˆ**: é˜…è¯» `claude.md` (æœ¬æ–‡æ¡£)
2. **æ ¸å¿ƒç³»ç»Ÿ**: æŸ¥çœ‹ `inference/claude.md`
3. **Webèƒ½åŠ›**: æµè§ˆ `WebAgent/claude.md`
4. **è®­ç»ƒæ–¹æ³•**: äº†è§£ `Agent/claude.md`
5. **è¯„ä¼°æ ‡å‡†**: å‚è€ƒ `evaluation/claude.md`

#### ç‰¹å®šä»»åŠ¡å¼€å‘è·¯å¾„
- **æœç´¢ä»£ç†**: `WebAgent/WebDancer/` + `inference/tool_search.py`
- **å¯¼èˆªä»£ç†**: `WebAgent/WebSailor/` + `inference/tool_visit.py`
- **ç ”ç©¶ä»£ç†**: `inference/react_agent.py` + `Agent/AgentFounder/`
- **è¯„ä¼°ç³»ç»Ÿ**: `evaluation/` + æ‰€æœ‰ç»„ä»¶çš„æµ‹è¯•æ¥å£

## æ€§èƒ½è€ƒè™‘

### âš¡ ä¼˜åŒ–è¦ç‚¹
- ä½¿ç”¨vLLMè¿›è¡Œé«˜æ€§èƒ½æ¨ç†
- æ”¯æŒGPUåŠ é€Ÿå’Œåˆ†å¸ƒå¼è®¡ç®—
- å®ç°äº†tokençº§åˆ«çš„ç­–ç•¥æ¢¯åº¦ä¼˜åŒ–
- é‡‡ç”¨é€‰æ‹©æ€§è¿‡æ»¤è´Ÿæ ·æœ¬ä»¥ç¨³å®šè®­ç»ƒ

### ğŸ¯ æ¨¡å‹èƒ½åŠ›
- é•¿ä¸Šä¸‹æ–‡ç†è§£ (128K tokens)
- å¤æ‚æ¨ç†å’Œä»»åŠ¡åˆ†è§£
- å¤šæ¨¡æ€ä¿¡æ¯å¤„ç†
- å®æ—¶ä¿¡æ¯æœç´¢å’Œæ•´åˆ

## ç›¸å…³è®ºæ–‡å’Œç ”ç©¶

### ğŸ“š å­¦æœ¯æˆæœ
è¯¥é¡¹ç›®åŒ…å«å¤šä¸ªç›¸å…³ç ”ç©¶æˆæœï¼Œæ¶µç›–äº†Webä»£ç†çš„å„ä¸ªæ–¹é¢ï¼š
- WebWalker: Webéå†åŸºå‡†æµ‹è¯•
- WebDancer: è‡ªä¸»ä¿¡æ¯æœç´¢ä»£ç†
- WebSailor: è¶…äººç±»æ¨ç†å¯¼èˆª
- WebShaper: ä¿¡æ¯ç»“æ„åŒ–å¤„ç†
- WebResearcher: æ— ç•Œæ¨ç†èƒ½åŠ›

### ğŸ”¬ ç ”ç©¶æ–¹å‘
- Webæ™ºèƒ½ä»£ç†
- æœç´¢ä»£ç†
- ä»£ç†å¼ºåŒ–å­¦ä¹ 
- å¤šä»£ç†ç³»ç»Ÿ
- ä»£ç†RAGç³»ç»Ÿ

---

*æ­¤æ–‡æ¡£ç”±DeepResearché¡¹ç›®æ™ºèƒ½åˆå§‹åŒ–ç³»ç»Ÿç”Ÿæˆ*
*æœ€åæ›´æ–°: 2025-09-19*